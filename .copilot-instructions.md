# Copilot Instructions

> Auto-loaded context for GitHub Copilot

## Project

NestJS Monorepo | Microservices: api-gateway, auth, video, interaction, notification
Shared: `@app/common`, `@app/database`, `@app/redis`, `@app/kafka`, `@app/grpc`
Stack: NestJS 10, TypeScript 5, PostgreSQL, Redis, Kafka

## Conventions

**Naming**: kebab-case files, PascalCase classes, camelCase methods, UPPER_SNAKE_CASE constants
**Types**: Strict TypeScript, no `any`, async/await only, return types required
**Imports**: Use `@app/*` for shared libs, never relative paths

## Anti-Patterns

❌ `any` types
❌ Business logic in controllers  
❌ Hardcoded values
❌ Sync operations
❌ Bypassing shared libraries

## Patterns

**Service**: `@Injectable()` + constructor DI + typed returns + error handling
**Controller**: `@ApiTags()` + `@ApiOperation()` + DTOs + no business logic
**DTO**: class-validator decorators + `@ApiProperty()` + examples
**Entity**: `@Entity()` + UUID + timestamps + `select: false` for sensitive fields

## Must Include

✅ DTOs with validation
✅ Error handling (NotFoundException, BadRequestException, etc.)
✅ Swagger documentation
✅ Typed returns
✅ Use `@app/*` imports

## Reference

See `apps/auth-service/src/` for patterns | Full guide: `AI_PROMPT_GUIDE.md`
