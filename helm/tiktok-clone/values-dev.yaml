# Development environment values
# Override these in values-dev.yaml for local development

global:
  environment: development

# Ingress for local access (production-like)
ingress:
  enabled: true
  host: tiktok-clone.local
  annotations: {}

# Kafka với resources thấp
kafka:
  enabled: true
  resources:
    requests:
      memory: '256Mi'
      cpu: '100m'
    limits:
      memory: '512Mi'
      cpu: '250m'

postgresql:
  resources:
    requests:
      memory: '64Mi'
      cpu: '50m'
    limits:
      memory: '128Mi'
      cpu: '100m'

redis:
  resources:
    requests:
      memory: '32Mi'
      cpu: '50m'
    limits:
      memory: '64Mi'
      cpu: '100m'

# Tắt monitoring để tiết kiệm - chỉ giữ Kafka
monitoring:
  enabled: false
  prometheus:
    enabled: false
  grafana:
    enabled: false
  elasticsearch:
    enabled: false
  loki:
    enabled: false
  kibana:
    enabled: false
  alertmanager:
    enabled: false
  promtail:
    enabled: false

services:
  auth:
    replicas: 1
    resources:
      requests:
        memory: '128Mi'
        cpu: '100m'
      limits:
        memory: '256Mi'
        cpu: '200m'
    autoscaling:
      enabled: false
      minReplicas: 1
      maxReplicas: 2

  video:
    replicas: 1
    resources:
      requests:
        memory: '128Mi'
        cpu: '100m'
      limits:
        memory: '256Mi'
        cpu: '200m'
    autoscaling:
      enabled: false
      minReplicas: 1
      maxReplicas: 2

  interaction:
    replicas: 1
    resources:
      requests:
        memory: '128Mi'
        cpu: '100m'
      limits:
        memory: '256Mi'
        cpu: '200m'
    autoscaling:
      enabled: false
      minReplicas: 1
      maxReplicas: 2

  notification:
    replicas: 1
    resources:
      requests:
        memory: '128Mi'
        cpu: '100m'
      limits:
        memory: '256Mi'
        cpu: '200m'
    autoscaling:
      enabled: false
      minReplicas: 1
      maxReplicas: 2

  gateway:
    replicas: 1
    resources:
      requests:
        memory: '128Mi'
        cpu: '100m'
      limits:
        memory: '256Mi'
        cpu: '200m'
    autoscaling:
      enabled: false
      minReplicas: 1
      maxReplicas: 2
# Migration disabled - services use TypeORM synchronize in dev mode
migration:
  enabled: false
