---
# ConfigMap cho database connection
apiVersion: v1
kind: ConfigMap
metadata:
  name: tiktok-db-config
  namespace: tiktok-clone
data:
  # PostgreSQL Configuration
  DB_HOST: postgres.tiktok-clone.svc.cluster.local
  DB_PORT: '5432'
  DB_NAME: tiktok_clone
  DB_USER: postgres

  # Redis Configuration
  REDIS_HOST: redis.tiktok-clone.svc.cluster.local
  REDIS_PORT: '6379'

  # Kafka Configuration
  KAFKA_BROKERS: kafka.tiktok-clone.svc.cluster.local:9092
  KAFKA_CLIENT_ID: tiktok-services

  # Service URLs (internal)
  GRPC_AUTH_URL: auth-service.tiktok-clone.svc.cluster.local:50051
  GRPC_VIDEO_URL: video-service.tiktok-clone.svc.cluster.local:50052
  GRPC_INTERACTION_URL: interaction-service.tiktok-clone.svc.cluster.local:50053
  GRPC_NOTIFICATION_URL: notification-service.tiktok-clone.svc.cluster.local:50054

  # Node Environment
  NODE_ENV: production

---
# ConfigMap cho API Gateway CORS
apiVersion: v1
kind: ConfigMap
metadata:
  name: api-gateway-config
  namespace: tiktok-clone
data:
  CORS_ORIGIN: 'http://localhost:3000,http://frontend.tiktok-clone.svc.cluster.local:3000'

---
# ConfigMap cho monitoring
apiVersion: v1
kind: ConfigMap
metadata:
  name: monitoring-config
  namespace: tiktok-clone
data:
  # Prometheus
  PROMETHEUS_HOST: prometheus.tiktok-clone.svc.cluster.local
  PROMETHEUS_PORT: '9090'

  # Grafana
  GRAFANA_HOST: grafana.tiktok-clone.svc.cluster.local
  GRAFANA_PORT: '3000'

  # Elasticsearch
  ELASTICSEARCH_HOST: elasticsearch.tiktok-clone.svc.cluster.local
  ELASTICSEARCH_PORT: '9200'
